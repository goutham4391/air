location.hash&&setTimeout(function(){window.scrollTo(0,0)},1);var lang_attr=document.querySelector("html").getAttribute("lang"),lang="zh-Hans"===lang_attr?"cn":lang_attr;translations=window._DATA.javascript[lang].preowned;var contacts=[],nonVP=[],divisions=[],phoneLabels=window._DATA.contacts.phoneLabels;axios.get("https://assets.gulfstream.aero/data-service/feeds/contacts.json").then(function(a){for(var l=0;l<a.data.length;l++){divisions.push(a.data[l].Division__c);var m=new RegExp(/(pre owned aircraft|pre-owned aircraft|preowned aircraft)/i);m.test(a.data[l].Division__c)&&(a.data[l].Title__c&&-1<a.data[l].Title__c.toLowerCase().indexOf("vice president")||a.data[l].Title__c&&-1<a.data[l].Title__c.toLowerCase().indexOf("vice-president")?contacts.push(a.data[l]):nonVP.push(a.data[l]))}if(contacts=contacts.sort(function(c,a){return c.Last_Name__c>a.Last_Name__c?1:c.Last_Name__c<a.Last_Name__c?-1:0}),nonVP=nonVP.sort(function(c,a){return c.Last_Name__c>a.Last_Name__c?1:c.Last_Name__c<a.Last_Name__c?-1:0}),contacts=contacts.concat(nonVP),0<contacts.length)for(var b=0;b<contacts.length;b++){var c=contacts[b].Title__c?contacts[b].Title__c.toLowerCase():"",d=(translations[c]?translations[c]:contacts[b].Title__c).split(","),e="";1<d.length&&(e="<h2 class=\"preowned__contacttitle\">"+d[1]+"</h2>");var n="/buttons/blue_contact_placeholder.png";contacts[b].Profile_Image__c&&""!=contacts[b].Profile_Image__c&&null!=contacts[b].Profile_Image__c&&(n=contacts[b].Profile_Image__c);// translation of territory from [lang.json].preowned.territories.[territory]
var o=translations.territories[contacts[b].Sales_Territory__c];if(contacts[b].Sales_Territory__c)var f="<h3 class=\"preowned__territory\">"+(o?o:contacts[b].Sales_Territory__c)+"</h3>";var p="";if(contacts[b].phones&&0<contacts[b].phones.length)for(var g=0;g<contacts[b].phones.length;g++)if(""!==contacts[b].phones[g].label){var h=contacts[b].phones[g].label,k=phoneLabels[h][lang];"undefined"==typeof k&&(k=h+": "),p+="<li>".concat(k,"<a href=\"tel:").concat(contacts[b].phones[g].number,"\">").concat(contacts[b].phones[g].number,"</a></li>")}var q="";contacts[b].Email__c&&(q+="<li><a href=\"mailto:"+contacts[b].Email__c+"?subject="+(translations.email_subject?translations.email_subject:"Gulfstream%20Pre-Owned%20Inquiry")+"\">"+contacts[b].Email__c+"</a></li>");var r="\n      <div class=\"preowned__contact\">\n        <div class=\"preowned__headshot\">\n          <img src=\"".concat(n,"\" />\n        </div>\n        <div class=\"preowned__contactbody\">\n          <h1 class=\"preowned__contactname\">\n            ").concat(contacts[b].First_Name__c," ").concat(contacts[b].Last_Name__c,"\n          </h1>\n          <h2 class=\"preowned__contacttitle\">\n            ").concat(d[0],"\n          </h2>\n          ").concat(e,"\n          ").concat(f,"\n          <ul class=\"preowned__numbersemail\">\n            ").concat(p,"\n            ").concat(q,"\n          </ul>\n        </div>\n      </div>");document.querySelector("#contacts").innerHTML+=r}else document.querySelector("#contacts").innerHTML=window._DATA.javascript[lang].contacts.no_contacts})["catch"](function(a){console.error("Error fetching contacts:",a),document.querySelector("#contacts").innerHTML=window._DATA.javascript[lang].contacts.no_contacts}),Vue.component("preowned-aircraft",{props:["plane"],data:function data(){return{elem:"",flkty:"",paid:"pa-"+this.plane.id,labelClass:"preowned__tag",anchorInputId:"copy_"+this.plane.serial,buttonInputId:"copybutton_"+this.plane.serial,showShare:!1,anchor:location.href.replace(location.hash,"")+"#"+this.plane.serial,exteriorLabel:translations?translations.caption.exterior:this.exteriorTextDefault,downloadLabel:translations?translations.download:this.downloadSpecsTextDefault,copyText:translations.copy,copiedText:translations.copied,shareImageTooltip:translations.share_image,exteriorTextDefault:translations.caption.exterior,downloadSpecsTextDefault:translations.download_specs}},template:"\n  <section class=\"preowned__section\">\n    <a class=\"preowned__anchor\" :name=\"plane.serial\" :id=\"plane.serial\"></a>\n    <div class=\"preowned__images\">\n      <div :class=\"[labelClass, plane.class]\">\n        <span v-text=\"plane.label\"></span>\n      </div>\n      <div class=\"preowned__share\">\n        <div class=\"preowned__shareform\" v-show=\"showShare\">\n          <input type=\"text\" @focus=\"$event.target.select()\" :value=\"anchor\" :id=\"this.anchorInputId\" />\n          <button type=\"button\" @click=\"copyAll()\" :id=\"this.buttonInputId\" v-text=\"copyText\"></button>\n        </div>\n        <button class=\"preowned__sharebtn-container\" nohref @click=\"toggleShareForm()\"><img class=\"preowned__sharebtn\" src=\"/buttons/share-w.svg\" :title=\"shareImageTooltip\"/></button>\n      </div>        \n      <div class=\"preowned__carousel\" v-bind:id=\"this.paid\">\n        <div class=\"preowned__image\">\n          <img src=\"/buttons/aircraft_news_placeholder.png\" v-bind:data-flickity-lazyload=\"plane.exteriorImage\" v-bind:alt=\"plane.exteriorDesc\" />\n          <p v-text=\"exteriorLabel\"></p>\n        </div>\n        <div class=\"preowned__image\" v-for=\"image in plane.images\">\n          <img src=\"/buttons/aircraft_news_placeholder.png\" v-bind:data-flickity-lazyload=\"image.image\" v-bind:alt=\"image.description\" />\n          <p v-text=\"image.description\"></p>\n        </div>\n      </div>\n    </div>\n    <div class=\"preowned__stats\">\n      <h4 v-text=\"plane.modelYear\"></h4>\n      <h2 v-html=\"plane.title\"></h2>\n      <div>\n        <p v-text=\"plane.galleyLocation\"></p>\n        <p v-text=\"plane.passengers\"></p>\n        <p v-text=\"plane.hours\"></p>\n        <p v-text=\"plane.engineProgram\"></p>\n        <p v-text=\"plane.price\"></p>\n        <a v-bind:href=\"plane.eBrochure\" target=\"_blank\" v-text=\"downloadLabel\"></a>\n      </div>\n    </div>  \n  </section>",mounted:function mounted(){this.elem=document.querySelector("#"+this.paid),this.flkty=new Flickity(this.elem,{wrapAround:!0,prevNextButtons:!1,setGallerySize:!1,lazyLoad:!0,fullscreen:!0})},methods:{toggleShareForm:function toggleShareForm(){this.showShare=!this.showShare},copyAll:function copyAll(){copyText=document.getElementById(this.anchorInputId),copyButton=document.getElementById(this.buttonInputId),copyText.select(),document.execCommand("copy"),copyButton.innerHTML=this.copiedText}}});var vm=new Vue({el:"#preowned",data:{planes:[]},updated:function updated(){location.hash&&(document.location.href=location.href)},created:function created(){var a=this;axios.get("https://assets.gulfstream.aero/data-service/feeds/preowned.json").then(function(b){for(var c,d=0;d<b.data.length;d++){if(c=b.data[d],"en"!=lang)for(var e=0;e<c.images.length;e++)if(translations){var f=c.images[e].description,g=f?f.toLowerCase():"";c.images[e].description=translations.caption[g]?translations.caption[g]:""}else c.images[e].description="";var h={id:c.id,serial:c.serial,model:c.model,title:c.model+(translations?" "+translations.serial:" S/N")+"&nbsp;"+c.serial,status:c.aircraftStatus,exteriorImage:c.exteriorImage,exteriorDesc:"Exterior image of "+c.model,images:c.images,modelYear:(translations?translations.model_year+": ":"Model Year:")+c.modelYear,galleyLocation:(translations?translations.galley+": ":"Galley:")+(translations?"Forward"==c.galleyLocation?translations.forward:"Aft"==c.galleyLocation?translations.aft:c.galleyLocation:c.galleyLocation),passengers:(translations?translations.passenger_count+": ":"Passenger count: ")+c.passengers,hours:(translations?translations.total_time+": ":"Total time: ")+("ru"==lang?c.hours.replace(/,/g,""):c.hours)+(translations?" "+translations.hours:" hours"),engineProgram:(translations?translations.engine_program+": ":"Engine Program: ")+(c.engineProgram?translations?translations.yes:"Yes":translations?translations.no:"No"),price:(translations?translations.price+": ":"Asking price: ")+("ru"==lang?c.price.replace(/,/g,""):c.price)+" USD",eBrochure:c.eBrochure,class:"",label:""};"Sold"===c.aircraftStatus?(h["class"]="preowned__tag--sold",h.label=translations.statuses.sold):"Sale Pending"===c.aircraftStatus&&(h["class"]="preowned__tag--salepending",h.label=translations.statuses.sale_pending),a.planes.push(h)}})}});